# 2015-10-11 13:30 CAUTION: This file is automatically generated from Dockerfile.slave.base.tpl, do not edit it manually.
# Set the base image to Debian
FROM debian:testing
# File Author / Maintainer
MAINTAINER Jorrit Wronski (jowr@ipu.dk)
#
#
RUN apt-get update -qq && \
    apt-get install -y python-dev python-pip build-essential libhdf5-serial-dev libnetcdf-dev liblapack-dev libatlas-dev gfortran gcc cmake bash rsync git curl wget && \
    apt-get clean
#
RUN pip install buildbot-slave
#
RUN groupadd -r buildbot && \
    useradd -r -d /home/buildbot -m -s /bin/bash -g buildbot buildbot # && mkdir /buildslave && chown buildbot:buildbot /buildslave
#
RUN rm /bin/sh && ln -sf /bin/bash /bin/sh
USER buildbot
WORKDIR /home/buildbot
#
#RUN \
#cat .ssh/known_hosts
#
#RUN buildslave create-slave ${SLAVEDIR} ${MASTERHOST} ${SLAVENAME} ${SLAVEPASSWORD}
#ENTRYPOINT ["/usr/local/bin/buildslave"]
#CMD ["start", "--nodaemon"]
#
COPY ./Dockerfile.slave.entrypoint.sh /
ENTRYPOINT ["/Dockerfile.slave.entrypoint.sh"]